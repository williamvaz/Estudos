<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b3b22" />
  <title>Estudos Futebol ‚Ä¢ In√≠cio</title>

  <!-- √çcones -->
  <link rel="icon" type="image/webp" href="Icone.webp" />
  <link rel="apple-touch-icon" href="Icone.webp" />

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Copa English">

  <style>
    :root{
      --turf:#0e2a12; --turf2:#144e1f; --line:#c8facc;
      --panel:#0f172a; --muted:#98a3b0; --text:#ecf2f7;
      --accent:#22c55e; --accent-2:#38bdf8; --danger:#ef4444;
      --radius:16px; --soft:20px; --shadow:0 14px 36px rgba(0,0,0,.35);
      --touch:56px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--text);
      font:500 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Open Sans","Helvetica Neue",Arial;
      background:
        radial-gradient(1200px 800px at 80% -30%, rgba(56,189,248,.12), transparent 60%),
        linear-gradient(180deg, rgba(34,197,94,.05), transparent 40%),
        repeating-linear-gradient(90deg, var(--turf) 0 56px, var(--turf2) 56px 112px);
    }

    .app{max-width:640px;margin:0 auto;padding:env(safe-area-inset-top) 16px env(safe-area-inset-bottom)}
    .topbar{
      display:flex;align-items:center;justify-content:center;
      background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius); padding:12px 14px; margin:16px 0;
      box-shadow:var(--shadow)
    }
    .brand{display:flex;align-items:center;gap:10px}
    .brand h1{font-size:1.25rem;margin:0}
    .ball{font-size:26px}

    .menu-grid{
      display:grid; gap:14px;
      grid-template-columns:repeat(2,minmax(0,1fr));
    }
    .menu-card{
      min-height:128px; padding:14px; width:100%;
      display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;
      border-radius:var(--soft); cursor:pointer; text-align:left;
      border:1px solid rgba(255,255,255,.10);
      background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
      box-shadow:var(--shadow);
      transition:transform .15s ease, filter .15s ease;
    }
    .menu-card:active{transform:scale(.98)}
    .menu-card:hover{filter:brightness(1.05)}
    .menu-card .icon{font-size:28px;margin-bottom:8px}
    .menu-card .title{font-weight:800;font-size:1.05rem;margin-bottom:4px}
    .menu-card .descr{color:var(--muted);font-size:.92rem}

    a { color:#fff; text-decoration:none; }
    a:visited { color:#fff; }
    a:hover { color:#ddd; text-decoration:underline; }

    /* Banner estilo "quer instalar?" */
    .install-banner{
      position: fixed; inset: auto 0 0 0; display:none;
      background:#2b1b1b; color:#fff; padding:14px 16px;
      box-shadow: 0 -6px 16px rgba(0,0,0,.35); z-index: 9999;
      font: 500 15px/1.3 system-ui, sans-serif;
      display:flex;justify-content:space-between;align-items:center;gap:12px;
    }
    .install-banner .msg{flex:1}
    .install-banner button{
      border:0; padding:8px 14px; border-radius:10px; cursor:pointer;
      font-weight:600; min-height:var(--touch);
    }
    .yes{background:#22c55e; color:#092015;}
    .no{background:#444; color:#fff;}
    @media (display-mode: standalone) { .install-banner{display:none !important;} }
  </style>
</head>
<body>
  <div class="app">
    <header class="topbar" role="banner">
      <div class="brand">
        <span class="ball" aria-hidden="true">‚öΩ</span>
        <h1 class="brand-title">Copa English</h1>
      </div>
    </header>

    <section class="menu-grid" aria-label="A√ß√µes principais">
      <a class="menu-card" href="campeonato.html">
        <div class="icon">üèÜ</div><div class="title">Jogar</div>
        <div class="descr">Inicie um campeonato</div>
      </a>
      <a class="menu-card" href="selecoes.html">
        <div class="icon">üåç</div><div class="title">Lista de Sele√ß√µes</div>
        <div class="descr">Bandeiras, score e atributos</div>
      </a>
      <a class="menu-card" href="palavras.html">
        <div class="icon">üìö</div><div class="title">Lista de Palavras</div>
        <div class="descr">Seu banco para revis√£o</div>
      </a>
      <a class="menu-card" href="edicoes.html">
        <div class="icon">üìú</div><div class="title">Hist√≥rico de Edi√ß√µes</div>
        <div class="descr">Anfitri√µes e campe√µes</div>
      </a>
    </section>
  </div>

  <!-- Banner pergunta instala√ß√£o -->
  <div id="installBanner" class="install-banner" role="dialog" aria-live="polite">
    <div class="msg">Deseja instalar o ‚ÄúCopa English‚Äù como aplicativo?</div>
    <div>
      <button class="yes" id="btnYes">Sim</button>
      <button class="no" id="btnNo">Agora n√£o</button>
    </div>
  </div>

  <script>
    // Registro do Service Worker (ajuste o caminho se necess√°rio)
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js').catch(console.error);
    }

    // -------- PWA: pergunta discreta se deseja instalar (sem bot√£o chamativo) --------
    let deferredPrompt = null;

    function isStandalone(){
      return window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone;
    }
    function isMobile(){
      return /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
    }

    // cria uma barrinha simples, com pergunta e dois links (Sim / Agora n√£o)
    function createInstallAsk() {
      if (document.getElementById('pwa-ask')) return;

      const bar = document.createElement('div');
      bar.id = 'pwa-ask';
      Object.assign(bar.style, {
        position:'fixed', left:'12px', right:'12px', bottom:'12px', zIndex:'9999', display:'flex', gap:'10px',
        alignItems:'center', justifyContent:'space-between', padding:'10px 12px',
        borderRadius:'12px', background:'rgba(20,20,20,.9)', color:'#fff',
        boxShadow:'0 6px 20px rgba(0,0,0,.35)', fontFamily:'system-ui, sans-serif', fontSize:'14px'
      });

      const text = document.createElement('div');
      text.textContent = 'Adicionar ‚ÄúCopa English‚Äù √† tela inicial?';

      const actions = document.createElement('div');
      Object.assign(actions.style, { display:'flex', alignItems:'center', gap:'12px' });

      const yes = document.createElement('a');
      yes.href = '#'; yes.textContent = 'Sim';
      Object.assign(yes.style, { color:'#9BEBA7', fontWeight:'700' });

      const no = document.createElement('a');
      no.href = '#'; no.textContent = 'Agora n√£o';
      Object.assign(no.style, { color:'#ddd', opacity:'.9' });

      actions.append(yes, no);
      bar.append(text, actions);
      document.body.appendChild(bar);

      yes.addEventListener('click', async (ev) => {
        ev.preventDefault();
        if (!deferredPrompt) { bar.remove(); return; }
        deferredPrompt.prompt();
        try { await deferredPrompt.userChoice; } finally {
          deferredPrompt = null;
          bar.remove();
          localStorage.setItem('pwaPromptMostrado','1');
          localStorage.setItem('pwaPromptLastAsk', String(Date.now()));
        }
      });

      no.addEventListener('click', (ev) => {
        ev.preventDefault();
        bar.remove();
        localStorage.setItem('pwaPromptMostrado','1');
        localStorage.setItem('pwaPromptLastAsk', String(Date.now()));
      });
    }

    // Decide quando perguntar novamente (ex.: a cada 7 dias)
    function canAskAgain(days=7){
      const last = Number(localStorage.getItem('pwaPromptLastAsk')||0);
      if (!last) return true;
      const diff = Date.now() - last;
      return diff > days*24*60*60*1000;
    }

    // Captura o evento e mostra a pergunta discreta
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      const jaMostrado = localStorage.getItem('pwaPromptMostrado') === '1';
      if (isMobile() && !isStandalone() && (!jaMostrado || canAskAgain(7))) {
        // mostra com pequeno atraso para n√£o competir com a UI de entrada
        setTimeout(createInstallAsk, 1200);
      }
    });

    // se j√° estiver instalado, n√£o perguntar
    window.addEventListener('appinstalled', () => {
      const ask = document.getElementById('pwa-ask');
      if (ask) ask.remove();
      localStorage.setItem('pwaPromptMostrado','1');
      localStorage.setItem('pwaPromptLastAsk', String(Date.now()));
    });
  </script>
</body>
</html>
